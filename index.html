// ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸàŸÇÿ™ ŸÖŸÜÿ∞ ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ™ÿπÿßÿ±ŸÅ
function updateTimer() {
    const startDate = new Date('2025-10-23T00:00:00');
    const now = new Date();
    const diff = now - startDate;

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / 1000 / 60) % 60);

    document.getElementById('timer').innerHTML = 
        `${days} ŸäŸàŸÖ Ÿà ${hours} ÿ≥ÿßÿπÿ© Ÿà ${minutes} ÿØŸÇŸäŸÇÿ©`;
}

setInterval(updateTimer, 1000);
updateTimer();

// ŸÖŸäÿ≤ÿ© ÿ≤ÿ± "ŸÑÿß" ÿßŸÑŸáÿßÿ±ÿ®
function moveButton() {
    const btn = document.getElementById('noBtn');
    const x = Math.random() * (window.innerWidth - btn.offsetWidth);
    const y = Math.random() * (window.innerHeight - btn.offsetHeight);
    btn.style.left = x + 'px';
    btn.style.top = y + 'px';
}

// ÿπŸÜÿØ ŸÇÿ®ŸàŸÑ ÿßŸÑÿπÿ±ÿ∂
function accepted() {
    document.querySelector('.proposal-box').style.display = 'none';
    document.getElementById('finalMessage').classList.remove('hidden');
    // ÿ•ÿ∑ŸÑÿßŸÇ ÿ™ÿ£ÿ´Ÿäÿ± ŸÇŸÑŸàÿ® ŸÉÿ´ŸäŸÅÿ©
    setInterval(createHeart, 50);
}

// ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ
function toggleMusic() {
    const music = document.getElementById('bgMusic');
    const btn = document.getElementById('musicControl');
    if (music.paused) {
        music.play();
        btn.innerHTML = "‚è∏Ô∏è ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ";
    } else {
        music.pause();
        btn.innerHTML = "üîä ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ";
    }
}

// ÿ±ÿ≥ŸÖ ÿßŸÑŸÇŸÑŸàÿ® ÿßŸÑŸÖÿ™ÿ≥ÿßŸÇÿ∑ÿ© (ÿÆŸÑŸÅŸäÿ©)
const canvas = document.getElementById('heartCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hearts = [];
function createHeart() {
    hearts.push({
        x: Math.random() * canvas.width,
        y: canvas.height + 20,
        size: Math.random() * 20 + 10,
        speed: Math.random() * 2 + 1,
        opacity: Math.random()
    });
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    hearts.forEach((h, i) => {
        ctx.globalAlpha = h.opacity;
        ctx.font = h.size + 'px serif';
        ctx.fillText('‚ù§Ô∏è', h.x, h.y);
        h.y -= h.speed;
        if (h.y < -20) hearts.splice(i, 1);
    });
    requestAnimationFrame(draw);
}
setInterval(createHeart, 300);
draw();
